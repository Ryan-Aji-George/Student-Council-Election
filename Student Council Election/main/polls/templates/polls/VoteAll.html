{% extends "polls/base.html" %}
{% block content %}
{% load static %}
<style>.header{background-color: rgba(255, 255, 255, 0.6);}</style>
<script>
  window.addEventListener("pageshow", function (event) {
    if (event.persisted) {
      window.location.reload();
    }
  });
</script>
{% if latest_post_list %}
  <main>
    <article>

      <!--
        - #FEATURED POST
      --><br><br><br><br><br><br>  
      <form action="{% url 'polls:vote_all' %}" method="post">
        {% csrf_token %}



      <section class="section feature" aria-label="feature" id="featured" style="margin-top:-120px;">




        <div class="container">
            {% if error_message %}

<style>
.alert {
  padding: 20px;
  background-color: #E63946;
  color: white;
  border-radius: var(--radius-16);
  transition: var(--transition-1);
}

.closebtn {
  margin-left: 15px;
  color: white;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}

.closebtn:hover {
  color: black;
}
</style>
<div class="alert">
  <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span> 
  {{ error_message }}
</div><br>

{% endif %}

{% for post in latest_post_list %}
          <h2 class="headline headline-2 section-title">
            <span class="span">{{ post.post_title }}</span>
          </h2>




          <style>
            input[type="radio"] {
                appearance: none;
                width: 20px;
                height: 20px;
                border: 1px solid rgba(165, 165, 165, 0.332);
                border-radius: 50%;
                outline: none;
                background-color: white;
                cursor: pointer;
            }
            input[type="radio"]:checked {
                background-color: var(--bg-carolina-blue);
            }
        </style>

          <ul class="feature-list">

            <li style="display: none;">
              <div class="card feature-card">

                <figure class="card-banner img-holder" style="--width: 1602; --height: 903;">
                  <img src="./assets/images/featured-1.png" width="1602" height="903" loading="lazy"
                    alt="Self-observation is the first step of inner unfolding" class="img-cover">
                </figure>

                <div class="card-content">

                  <div class="card-wrapper">
                    <div class="card-tag">
                      <a href="#" class="span hover-2">#Travel</a>

                      <a href="#" class="span hover-2">#Lifestyle</a>
                    </div>

                    <div class="wrapper">
                      <ion-icon name="time-outline" aria-hidden="true"></ion-icon>

                      <span class="span">3 mins read</span>
                    </div>
                  </div>

                  <h3 class="headline headline-3">
                    <a href="#" class="card-title hover-2">
                      Self-observation is the first step of inner unfolding
                    </a>
                  </h3>

                  <div class="card-wrapper">

                    <div class="profile-card">
                      <img src="./assets/images/author-1.png" width="48" height="48" loading="lazy" alt="Joseph"
                        class="profile-banner">

                      <div>
                        <p class="card-title">Joseph</p>

                        <p class="card-subtitle">25 Nov 2022</p>
                      </div>
                    </div>

                    <a href="#" class="card-btn">Read more</a>

                  </div>

                </div>

              </div>
            </li>

            <li style="display: none;">
              <div class="card feature-card">

                <figure class="card-banner img-holder" style="--width: 1602; --height: 903;">
                  <img src="./assets/images/featured-2.png" width="1602" height="903" loading="lazy"
                    alt="Self-observation is the first step of inner unfolding" class="img-cover">
                </figure>

                <div class="card-content">

                  <div class="card-wrapper">
                    <div class="card-tag">
                      <a href="#" class="span hover-2">#Design</a>

                      <a href="#" class="span hover-2">#Movie</a>
                    </div>

                    <div class="wrapper">
                      <ion-icon name="time-outline" aria-hidden="true"></ion-icon>

                      <span class="span">6 mins read</span>
                    </div>
                  </div>

                  <h3 class="headline headline-3">
                    <a href="#" class="card-title hover-2">
                      Self-observation is the first step of inner unfolding
                    </a>
                  </h3>

                  <div class="card-wrapper">

                    <div class="profile-card">
                      <img src="./assets/images/author-1.png" width="48" height="48" loading="lazy" alt="Joseph"
                        class="profile-banner">

                      <div>
                        <p class="card-title">Joseph</p>

                        <p class="card-subtitle">25 Nov 2022</p>
                      </div>
                    </div>

                    <a href="#" class="card-btn">Read more</a>

                  </div>

                </div>



              </div>

            </li>


            {% for candidate in post.candidate_set.all %}
            <li>
                <label for="candidate_{{ candidate.id }}" >
              <div class="card feature-card">

                <figure class="card-banner img-holder" style="--width: 100%; --height: 903;">
                  <img src="{{ candidate.image.url }}" loading="lazy" alt="{{ candidate.candidate_name }}" width="903" class="img-cover"  style="height=100%">
                </figure>

                <div class="card-content">
                  <div class="card-wrapper">
                    </div>
                  </div>









              <h3 class="headline headline-3 " style="margin-top:0px; margin-right:25px;"  >
                    <a class="card-title hover-2">

                      {{ candidate.candidate_name }}
                    </a>
                  </h3>

                  <div class="card-wrapper">

                    <div class="profile-card">


                      <div>
                        <p class="card-title" style="margin-top:-20px; font-weight: normal; "><strong>Motto: </strong>{{ candidate.motto }}</p>



                      </div>
                    </div>


                    

                  </div>
                  <input type="radio" style="  height: 25px;
  width: 25px;"  name="post_{{ post.id }}" id="candidate_{{ candidate.id }}" value="{{ candidate.id }}">
                </div>
</label>

            </li>



            {% endfor %}



          </ul>
<br>

{% endfor %}<a  class="btn btn-secondary" style="cursor:default;">
            <input class="span" type="submit" value="Vote" style="width: 55px; font-size: 20px; cursor: pointer;"></a>
        </div>

        <img src="{% static 'polls/images/shadow-2.svg' %}" width="500" height="1500" loading="lazy" alt="" class="feature-bg">

      </section>







      </form>
    </article>
  </main>

{% else %}
    <br><br><br><br><br><br>
    <p>No polls available</p>
{% endif %}


{% endblock content %}
